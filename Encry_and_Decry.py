"""对称加密的两个函数
   版本：v1.1

   对应程序：对称加解密.py"""

"""加解密替换表"""
encry_replace = {'0': '11', '1': '12', '2': '13', '3': '14', '4': '15', '5': '16', '6': '17', '7': '18', '8': '19',
                 '9': '21', 'A': '22', 'B': '23', 'C': '24', 'D': '25', 'E': '26', 'F': '27', 'G': '28', 'H': '29',
                 'I': '31', 'J': '32', 'K': '33', 'L': '34', 'M': '35', 'N': '36', 'O': '37', 'P': '38', 'Q': '39',
                 'R': '41', 'S': '42', 'T': '43', 'U': '44', 'V': '45', 'W': '46', 'X': '47', 'Y': '48', 'Z': '49',
                 ' ': '51', '!': '52', '?': '53', "'": '54', ',': '55', '"': '56', '(': '57', ')': '58', '/': '59',
                 '[': '61', ']': '62', '{': '63', '}': '64', ':': '65', ';': '66', '+': '67', '-': '68', '*': '69',
                 '@': '71', '#': '72', '$': '73', '%': '74', '^': '75', '&': '76', '~': '77', '`': '78', '·': '79',
                 '|': '81', '=': '82', '.': '83', '<': '84', '>': '85', '\\': '86'}  # 加密替换表

decry_replace = {'11': '0', '12': '1', '13': '2', '14': '3', '15': '4', '16': '5', '17': '6', '18': '7', '19': '8',
                 '21': '9', '22': 'A', '23': 'B', '24': 'C', '25': 'D', '26': 'E', '27': 'F', '28': 'G', '29': 'H',
                 '31': 'I', '32': 'J', '33': 'K', '34': 'L', '35': 'M', '36': 'N', '37': 'O', '38': 'P', '39': 'Q',
                 '41': 'R', '42': 'S', '43': 'T', '44': 'U', '45': 'V', '46': 'W', '47': 'X', '48': 'Y', '49': 'Z',
                 '51': ' ', '52': '!', '53': '?', '54': "'", '55': ',', '56': '"', '57': '(', '58': ')', '59': '/',
                 '61': '[', '62': ']', '63': '{', '64': '}', '65': ':', '66': ';', '67': '+', '68': '-', '69': '*',
                 '71': '@', '72': '#', '73': '$', '74': '%', '75': '^', '76': '&', '77': '~', '78': '`', '79': '·',
                 '81': '|', '82': '=', '83': '.', '84': '<', '85': '>', '86': '\\'}  # 解密替换表

def retrun_version():
    return '1.1'

def encry(plaintext, key):  # 加密函数
    """加密字符串"""
    if plaintext == '':
        return ''
    plaintext = plaintext.upper()  # 把明文变成大写

    """替换字符"""
    a = ''
    for i in range(len(plaintext)):
        a += encry_replace[plaintext[i]]

    """乘以随机密钥"""
    a = str(int(a) * key)

    """调换顺序"""
    ciphertext = ''
    for i in range(len(a)):
        ciphertext += a[len(a) - (i + 1)]

    """返回密文"""
    return ciphertext

def decry(ciphertext, key):  # 解密函数
    """解密字符串"""
    if ciphertext == '':
        return ''
    
    """调换顺序"""
    a = ''
    for i in range(len(ciphertext)):
        a += ciphertext[len(ciphertext) - (i + 1)]

    """除以密钥"""
    a = str(int(a) // key)

    """替换字符"""
    plaintext = ''
    for i in range(len(a)):
        if i % 2 == 1:
            continue
        plaintext += decry_replace[a[i:i + 2]]

    """返回明文"""
    plaintext = plaintext.lower()
    return plaintext
